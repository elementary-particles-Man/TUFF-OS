# 作業ログ 2025-01-17

## まとめ
- tuffdをPID1前提にし、ユーザ空間の外部コマンド依存を排除方向へ移行
- カーネル/Buildrootを最小化（ネットワーク無効、eudev/BusyBox削除）
- UEFI GOP向け表示を維持しつつ、USBマウス/HIDのみ残す方針に調整
- TUFF-OS配布用アーティファクトを整理配置
- 親リポジトリ化とSSH push手順の整備

## 主要な変更
- tuffdがPID1時にproc/sys/dev/devptsを自前マウント
- USBキー検出を`/sys/block`ベースに変更し、mount/umountをRust syscall化
- MK指紋の保存・照合を追加（ミスマッチでFreeze）
- Buildroot設定の最小化（devtmpfsのみ、BusyBox/eudev/シェル無し）
- カーネル設定の最小化（ACPI最小有効、debug/BPF/audit/kexec等無効）
- USB以外のHID/入力デバイス無効化、USBマウスのみ有効化

## 成果物
- `TUFF-OS/kernel/bzImage`（約8.6MB）
- `TUFF-OS/rootfs/rootfs.squashfs`（約5.7MB）
- `TUFF-OS/artifacts/rootfs.tar`（約22.4MB）

## リポジトリ整理
- `/mnt/Ext4-Data/Develop/TUFF-OS` を親Gitリポジトリ化
- `TUFF-FS` をサブツリーとして履歴付きで取り込み
- SSH pushガイドを追加（`docs/push_guide.md`）
- README（日英併記）を追加

